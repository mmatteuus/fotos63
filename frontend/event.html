<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Evento - Fotos63</title>
  <script>window.ENV_API_BASE = "https://api.seu-dominio.com";</script>
  <link rel="icon" type="image/svg+xml" href="./assets/favicon.svg?v=2">
  <link rel="shortcut icon" href="./assets/favicon.svg?v=2" type="image/svg+xml">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>:root{--brand:#FF8C00;--accent:#FFD700;--bg:#0b0b0c} body{background:var(--bg); color:white;}</style>
</head>
<body>
  <nav class="container py-3"><a href="index.html" class="text-light">Home</a></nav>
  <div class="container py-5">
    <h1 id="title" class="mb-3"></h1>
    <p id="desc"></p>
    <div id="photos" class="row g-3"></div>
    <footer class="text-center mt-5">Desenvolvido por MtsFerreira</footer>
  </div>
  <script type="module">
    import { getPhotos } from './assets/js/api.js';
    const params = new URLSearchParams(location.search);
    const id = params.get('id');
    async function load(){
      const r = await fetch(`${API_BASE}/api/events/${id}`);
      if(r.ok){
        const ev = await r.json();
        document.getElementById('title').textContent = ev.title;
        document.getElementById('desc').textContent = ev.description;
        const photos = await getPhotos({event:id});
        const el = document.getElementById('photos');
        el.innerHTML = photos.map(p=>`<div class='col-md-3'><div class='card bg-dark'><div class='card-body'><h5>${p.title}</h5><p>R$ ${p.price}</p></div></div></div>`).join('');
      }
    }
    load();
  </script>
  <script src="./assets/js/main.js"></script>
</body>
</html>
